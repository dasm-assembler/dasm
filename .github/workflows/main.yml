name: Build, Test and Package Snapshots
on:
  push:
    paths-ignore:
    - 'snapshot-builds/**'
jobs:
  build_for_windows:
    runs-on: windows-2019
    name: Build for Windows
    steps:
    - uses: actions/checkout@v2
    - name: Make
      run: make
    - run: |
        mkdir -p artifacts/windows
        cp bin/dasm.exe artifacts/windows/dasm.exe
    - uses: actions/upload-artifact@v2
      with :
        name: dasm snapshot builds
        path: artifacts

